/*
 === octapushJS.pluginName ===
 Author  : Fadhly Permata
 eMail   : - fadhly.permata@gmail.com
 URL     : www.octapush.com

 === Credits ===
 Prime Developer : Fadhly Permata

 === Contributors ===
 ... just type your name here after editing the script ...

 === THANKS TO : ===
 - CORS Handling : Monsur Hossain (https://www.html5rocks.com/en/tutorials/cors/)
 */

(function(w){'use strict';if(!w.octapushJS||!w._o_){alert('octapushJS.ajax has dependency with "octapush.js". Please add the file first.');return}else{var f='1.7.02.13';_o_.ajax=Object.assign(_o_.utility.ifNull(_o_.ajax,{}),{request:function(a){var b=null;a={url:a.url||null,data:a.data||null,type:_o_.utility.ifNull(a.type,'application/xml'),method:_o_.utility.ifNull(a.method,'GET'),async:_o_.utility.ifNull(a.async,false),success:a.success||null,error:a.error||null};if(_o_.compare.isNullOrEmpty(a))return;if(_o_.compare.isDefined(_o_.utility.getType(XMLHttpRequest))){b=new XMLHttpRequest()}else{if(_o_.compare.isDefined(_o_.getType(XDomainRequest))){b=new XDomainRequest()}else{f=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];for(var i=0;i<f.length;i++){try{b=new ActiveXObject(f[i]);break}catch(e){if(!_o_.compare.isNullOrEmpty(a.error)&&_o_.compare.isFunction(a.error))a.error(e)}}}}if(a.method.toLowerCase()==='get')a.url=a.url+(_o_.compare.isNullOrEmpty(a.data)?'':'?'+a.data);if("withCredentials"in b){b.open(a.method,a.url,true)}else{b.open(a.method,a.url);b.setRequestHeader('Content-Type',a.type)}b.send(a.method.toLowerCase()==='get'?null:a.data);b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){if(b.status===200||b.status===201||b.status===204){if(!_o_.compare.isNullOrEmpty(a.success)&&_o_.compare.isFunction(a.success))a.success(b)}else{if(!_o_.compare.isNullOrEmpty(a.error)&&_o_.compare.isFunction(a.error))a.error(b)}}}},get:function(a,b,c,d){_o_.ajax.request({url:a,data:b,method:'GET',success:c,error:d})},post:function(a,b,c,d){_o_.ajax.request({url:a,data:b,method:'POST',success:c,error:d})},put:function(a,b,c,d){_o_.ajax.request({url:a,data:b,method:'PUT',success:c,error:d})},delete:function(a,b,c){_o_.ajax.request({url:a,success:b,error:c})},patch:function(a,b,c,d){_o_.ajax.request({url:a,data:b,method:'PATCH',success:c,error:d})}})}})(window);