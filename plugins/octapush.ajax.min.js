/*
 === octapushJS.pluginName ===
 Author  : Fadhly Permata
 eMail   : fadhly.permata@gmail.com
 URL     : www.octapush.com

 === Credits ===
 Prime Developer : Fadhly Permata

 === Contributors ===
 ... just type your name here after editing the script ...

 === THANKS TO : ===
 - CORS Handling : Monsur Hossain (https://www.html5rocks.com/en/tutorials/cors/)
 - https://www.w3.org/
 - MDN : https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest
 */

/**
 * NOTE:
 * - CORS test URL: http://html5rocks-cors.s3-website-us-east-1.amazonaws.com/index.html
 * - RESTFULL test URL: https://reqres.in/api/users
 */

(function(w){'use strict';if(!w.octapushJS||!w._o_){alert('octapushJS.ajax has dependency with "octapush.js". Please add the file first.');return}else{const version='1.7.02.21';var f={parseAndCallAjax:function(a,b){var c=null;var d=null;if(!_o_.compare.isNullOrEmpty(b[1])&&!_o_.compare.isFunction(b[1]))c=b[1];if(!_o_.compare.isNullOrEmpty(b[1])&&_o_.compare.isFunction(b[1]))d=b[1];else{d=b[2]}b={url:b[0],data:c||null,method:a,success:d||null};_o_.ajax.request(b)}};_o_.ajax=Object.assign(_o_.utility.ifNull(_o_.ajax,{}),{request:function(c){if(_o_.compare.isNullOrEmpty(c)||_o_.compare.isNullOrEmpty(c.url))return;c={url:c.url||null,data:c.data||null,method:_o_.utility.ifNull(c.method,'GET'),success:c.success||null,error:c.error||null,headers:c.headers||{},withCredentials:c.withCredentials||false};var d=null;if(_o_.compare.isDefined(_o_.utility.getType(XMLHttpRequest))){d=new XMLHttpRequest()}else{if(_o_.compare.isDefined(_o_.getType(XDomainRequest))){d=new XDomainRequest()}else{version=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];for(var i=0;i<version.length;i++){try{}catch(e){if(!_o_.compare.isNullOrEmpty(c.error)&&_o_.compare.isFunction(c.error))c.error(e)}}}}if(c.method.toLowerCase()==='get')c.url=c.url+(_o_.compare.isNullOrEmpty(c.data)?'':'?'+c.data);d.open(c.method,c.url,true);d.withCredentials=c.withCredentials;_o_.utility.each(c.headers,function(a,b){if(b)d.setRequestHeader(a,b)});if(!_o_.compare.isNullOrEmpty(c.dataType)){d.responseType=c.dataType}d.send(c.method.toLowerCase()==='get'?null:c.data);d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE){if(d.status===200||d.status===201||d.status===200){if(!_o_.compare.isNullOrEmpty(c.success)&&_o_.compare.isFunction(c.success))c.success(d)}else{if(!_o_.compare.isNullOrEmpty(c.error)&&_o_.compare.isFunction(c.error))c.error(d)}}}},get:function(a){if(arguments.length==1&&_o_.compare.isJsonObject(a))_o_.ajax.request(a);else f.parseAndCallAjax('GET',arguments)},post:function(a){if(arguments.length==1&&_o_.compare.isJsonObject(a))_o_.ajax.request(a);else f.parseAndCallAjax('POST',arguments)},put:function(a){if(arguments.length==1&&_o_.compare.isJsonObject(a))_o_.ajax.request(a);else f.parseAndCallAjax('PUT',arguments)},delete:function(a){if(arguments.length==1&&_o_.compare.isJsonObject(a))_o_.ajax.request(a);else f.parseAndCallAjax('DELETE',arguments)},patch:function(a){if(arguments.length==1&&_o_.compare.isJsonObject(a))_o_.ajax.request(a);else f.parseAndCallAjax('PATCH',arguments)}})}})(window);